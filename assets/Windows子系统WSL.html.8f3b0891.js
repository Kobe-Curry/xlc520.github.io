import{_ as t}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as r,c as o,a as s,b as n,e as a,d as i,r as c}from"./app.51ad39b7.js";const l={},d=i('<h1 id="windows-\u5B50\u7CFB\u7EDF-wsl" tabindex="-1"><a class="header-anchor" href="#windows-\u5B50\u7CFB\u7EDF-wsl" aria-hidden="true">#</a> Windows \u5B50\u7CFB\u7EDF WSL</h1><h2 id="\u81EA\u5B9A\u4E49\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#\u81EA\u5B9A\u4E49\u5B89\u88C5" aria-hidden="true">#</a> \u81EA\u5B9A\u4E49\u5B89\u88C5</h2><h3 id="_1-\u7B2C\u4E00\u79CD" tabindex="-1"><a class="header-anchor" href="#_1-\u7B2C\u4E00\u79CD" aria-hidden="true">#</a> 1.\u7B2C\u4E00\u79CD</h3><p>\u76F4\u63A5\u4E0B\u8F7D\u76F8\u5173\u7684\u955C\u50CF\u5305\u3002\u5728\u4E0B\u8F7D\u7F51\u5740\u4E2D\u627E\u5230\u81EA\u5DF1\u9700\u8981\u4E0B\u8F7D\u7684\u7CFB\u7EDF\u5305\uFF0C\u7136\u540E\u70B9\u51FB\u5373\u53EF\u3002</p><p><strong>\u4E0B\u8F7D\u7F51\u5740\uFF1A</strong></p>',5),u={href:"https://docs.microsoft.com/zh-cn/windows/wsl/install-manual",target:"_blank",rel:"noopener noreferrer"},p={href:"https://docs.microsoft.com/zh-CN/powershell/module/microsoft.powershell.utility/invoke-webrequest",target:"_blank",rel:"noopener noreferrer"},m=i(`<div class="language-powershell ext-powershell line-numbers-mode"><pre class="language-powershell"><code><span class="token function">Invoke-WebRequest</span> <span class="token operator">-</span>Uri https:<span class="token operator">/</span><span class="token operator">/</span>aka<span class="token punctuation">.</span>ms/wslubuntu2004 <span class="token operator">-</span>OutFile Ubuntu<span class="token punctuation">.</span>appx <span class="token operator">-</span>UseBasicParsing
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>\u63D0\u793A</strong></p><p>\u5982\u679C\u4E0B\u8F7D\u9700\u8981\u5F88\u957F\u65F6\u95F4\uFF0C\u8BF7\u901A\u8FC7\u8BBE\u7F6E <code>$ProgressPreference = &#39;SilentlyContinue&#39;</code> \u6765\u5173\u95ED\u8FDB\u5EA6\u680F</p>`,3),v={href:"https://curl.se/",target:"_blank",rel:"noopener noreferrer"},b=s("div",{class:"language-console ext-console line-numbers-mode"},[s("pre",{class:"language-console"},[s("code",null,`curl.exe -L -o ubuntu-2004.appx https://aka.ms/wslubuntu2004
`)]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),h=s("code",null,"curl.exe",-1),k=s("code",null,"curl",-1),g={href:"https://docs.microsoft.com/zh-CN/powershell/module/microsoft.powershell.utility/invoke-webrequest",target:"_blank",rel:"noopener noreferrer"},f=i(`<p>\u4E0B\u8F7D\u4E86\u53D1\u884C\u7248\u540E\uFF0C\u5BFC\u822A\u5230\u5305\u542B\u4E0B\u8F7D\u5185\u5BB9\u7684\u6587\u4EF6\u5939\uFF0C\u5E76\u5728\u8BE5\u76EE\u5F55\u4E2D\u8FD0\u884C\u4EE5\u4E0B\u547D\u4EE4\uFF0C\u5176\u4E2D <code>app-name</code> \u662F Linux \u53D1\u884C\u7248 .appx \u6587\u4EF6\u7684\u540D\u79F0\u3002</p><div class="language-Powershell ext-Powershell line-numbers-mode"><pre class="language-Powershell"><code>Add-AppxPackage .\\app_name.appx

#\u4F8B\u5982\uFF1A
Add-AppxPackage Ubuntu2004-220404.appxbundle
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Appx \u5305\u4E0B\u8F7D\u5B8C\u6210\u540E\uFF0C\u53EF\u4EE5\u901A\u8FC7\u53CC\u51FB appx \u6587\u4EF6\u5F00\u59CB\u8FD0\u884C\u65B0\u53D1\u884C\u7248\u3002 \uFF08\u547D\u4EE4 <code>wsl -l</code> \u4E0D\u4F1A\u5728\u6B64\u6B65\u9AA4\u5B8C\u6210\u4E4B\u524D\u663E\u793A\u53D1\u884C\u7248\u5DF2\u5B89\u88C5\uFF09\u3002</p><p>\u5728\u4E0B\u8F7D\u5B8C\u6210\u540E\uFF0C\u7528\u538B\u7F29\u8F6F\u4EF6\u89E3\u538B\u6216\u8005\u6253\u5F00\uFF0C\u7136\u540E\u89E3\u538B\u51FA\u5E26<code>*****x86.appx</code>,\u7136\u540E\u5728\u8FD9\u4E2A<code>.appx</code>\u7684\u89E3\u538B\u4F60\u9700\u8981\u5B89\u88C5\u7684\u4F4D\u7F6E\u3002\u7136\u540E\u6211\u4EEC\u627E\u5230Ubuntu.exe\u8FD9\u4E2A\u6587\u4EF6\uFF0C\u53CC\u51FB\u8FD0\u884C\u5373\u53EF\u3002\u5B89\u88C5\u7684\u8FC7\u7A0B\u9700\u8981\u7B49\u51E0\u5206\u949F\uFF0C\u7136\u540E\u4F1A\u8BA9\u6211\u4EEC\u8BBE\u7F6E\u7528\u6237\u540D\u548C\u5BC6\u7801\u3002</p><p>\uFF08\u8001\u7248\u672C\uFF09\u6211\u4EEC\u5C06\u955C\u50CF\u5305\u7684\u540E\u7F00\u6539\u4E3A.zip\uFF0C\u7136\u540E\u89E3\u538B\u5230\u81EA\u5DF1\u60F3\u8981\u5B89\u88C5\u7684\u76D8\uFF0C\u7136\u540E\u6211\u4EEC\u627E\u5230Ubuntu2004.exe\u8FD9\u4E2A\u6587\u4EF6\uFF0C\u53CC\u51FB\u8FD0\u884C\u5373\u53EF\u3002\u5B89\u88C5\u7684\u8FC7\u7A0B\u9700\u8981\u7B49\u51E0\u5206\u949F\uFF0C\u7136\u540E\u4F1A\u8BA9\u6211\u4EEC\u8BBE\u7F6E\u7528\u6237\u540D\u548C\u5BC6\u7801\u3002</p><h3 id="_2-\u7B2C\u4E8C\u79CD" tabindex="-1"><a class="header-anchor" href="#_2-\u7B2C\u4E8C\u79CD" aria-hidden="true">#</a> 2.\u7B2C\u4E8C\u79CD</h3><h4 id="\u67E5\u770B\u5DF2\u5B89\u88C5\u7684linux\u53D1\u884C\u7248\u672C" tabindex="-1"><a class="header-anchor" href="#\u67E5\u770B\u5DF2\u5B89\u88C5\u7684linux\u53D1\u884C\u7248\u672C" aria-hidden="true">#</a> \u67E5\u770B\u5DF2\u5B89\u88C5\u7684linux\u53D1\u884C\u7248\u672C</h4><div class="language-scss ext-scss line-numbers-mode"><pre class="language-scss"><code>wsl -l --all -v
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="\u5982\u679C\u72B6\u6001\u663E\u793A\u4E3Arunning-\u5148\u505C\u6B62" tabindex="-1"><a class="header-anchor" href="#\u5982\u679C\u72B6\u6001\u663E\u793A\u4E3Arunning-\u5148\u505C\u6B62" aria-hidden="true">#</a> \u5982\u679C\u72B6\u6001\u663E\u793A\u4E3ARunning\uFF0C\u5148\u505C\u6B62</h4><div class="language-scss ext-scss line-numbers-mode"><pre class="language-scss"><code>wsl --shutdown
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="\u5F00\u59CB\u8FC1\u79FB" tabindex="-1"><a class="header-anchor" href="#\u5F00\u59CB\u8FC1\u79FB" aria-hidden="true">#</a> \u5F00\u59CB\u8FC1\u79FB</h4><p>\u5BFC\u51FA\u53D1\u884C\u7248\u5230\u6307\u5B9A\u76D8\u7B26\uFF0C\u6211\u8FD9\u91CC\u9009\u62E9E\u76D8\u5427</p><h4 id="debian\u5BFC\u51FA" tabindex="-1"><a class="header-anchor" href="#debian\u5BFC\u51FA" aria-hidden="true">#</a> Debian\u5BFC\u51FA</h4><div class="language-scss ext-scss line-numbers-mode"><pre class="language-scss"><code>wsl --export Debian <span class="token property">e</span><span class="token punctuation">:</span>\\\\wsl-Debian.tar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="ubuntu-22-04\u5BFC\u51FA" tabindex="-1"><a class="header-anchor" href="#ubuntu-22-04\u5BFC\u51FA" aria-hidden="true">#</a> Ubuntu-22.04\u5BFC\u51FA</h4><div class="language-scss ext-scss line-numbers-mode"><pre class="language-scss"><code>wsl --export Ubuntu-22.04 <span class="token property">e</span><span class="token punctuation">:</span>\\\\wsl-Ubuntu22.04.tar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="\u6CE8\u9500\u5F53\u524D\u5DF2\u5B89\u88C5\u7684linux\u7248\u672C" tabindex="-1"><a class="header-anchor" href="#\u6CE8\u9500\u5F53\u524D\u5DF2\u5B89\u88C5\u7684linux\u7248\u672C" aria-hidden="true">#</a> \u6CE8\u9500\u5F53\u524D\u5DF2\u5B89\u88C5\u7684linux\u7248\u672C</h4><p>\u6CE8\u9500Debian</p><div class="language-scss ext-scss line-numbers-mode"><pre class="language-scss"><code>wsl --unregister Debian
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u6CE8\u9500Ubuntu-22.04</p><div class="language-scss ext-scss line-numbers-mode"><pre class="language-scss"><code>wsl --unregister Ubuntu-22.04
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="\u91CD\u65B0\u5B89\u88C5\u5B50\u7CFB\u7EDF\u5230\u6307\u5B9A\u76D8\u7B26\u4E0B" tabindex="-1"><a class="header-anchor" href="#\u91CD\u65B0\u5B89\u88C5\u5B50\u7CFB\u7EDF\u5230\u6307\u5B9A\u76D8\u7B26\u4E0B" aria-hidden="true">#</a> \u91CD\u65B0\u5B89\u88C5\u5B50\u7CFB\u7EDF\u5230\u6307\u5B9A\u76D8\u7B26\u4E0B</h4><p>\u5B89\u88C5Debian</p><div class="language-scss ext-scss line-numbers-mode"><pre class="language-scss"><code>wsl --import Debian <span class="token property">e</span><span class="token punctuation">:</span>\\\\wsl-debian <span class="token property">e</span><span class="token punctuation">:</span>\\\\wsl-Debian.tar --version 2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5B89\u88C5Ubuntu</p><div class="language-scss ext-scss line-numbers-mode"><pre class="language-scss"><code>wsl --import Ubuntu-22.04 <span class="token property">e</span><span class="token punctuation">:</span>\\\\wsl-ubuntu <span class="token property">e</span><span class="token punctuation">:</span>\\\\wsl-ubuntu22.04.tar --version 2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,26),w={href:"https://www.cnblogs.com/AJun816/p/16214924.html",target:"_blank",rel:"noopener noreferrer"},y=i(`<h2 id="\u66F4\u6362apt\u6E90" tabindex="-1"><a class="header-anchor" href="#\u66F4\u6362apt\u6E90" aria-hidden="true">#</a> \u66F4\u6362apt\u6E90</h2><p>\u56E0\u4E3ALinux\u5B50\u7CFB\u7EDF\u7684apt\u6E90\u4F7F\u7528\u7684\u662F\u5B98\u65B9\u6E90\uFF0C\u9700\u8981\u8FDE\u63A5\u5230\u56FD\u5916\u7684\u670D\u52A1\u5668\u3002\u6240\u4EE5\u5B89\u88C5\u4E00\u4E9B\u8F6F\u4EF6\u65F6\u4E0B\u8F7D\u4F1A\u5F88\u6162\uFF0C\u6211\u4EEC\u53EF\u4EE5\u6539\u7528\u56FD\u5185\u7684\u955C\u50CFapt\u6E90\u3002\u56FD\u5185\u7684\u955C\u50CF\u6E90\u4E3B\u8981\u6709\uFF1A</p><p>\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528 vim \u5BF9 /etc/apt/sources.list\u6587\u4EF6\u8FDB\u884C\u4FEE\u6539\u3002</p><p>\u5148\u8FDB\u884C\u4E00\u4E0B\u5907\u4EFD\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">mv</span> /etc/apt/sources.list /etc/apt/sources.list.bak
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u7136\u540E</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">vim</span> /etc/apt/sources.list
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u963F\u91CC\u6E90ubuntu-22-04-jammy" tabindex="-1"><a class="header-anchor" href="#\u963F\u91CC\u6E90ubuntu-22-04-jammy" aria-hidden="true">#</a> \u963F\u91CC\u6E90Ubuntu 22.04(jammy)</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u9ED8\u8BA4\u6CE8\u91CA\u4E86\u6E90\u7801\u955C\u50CF\u4EE5\u63D0\u9AD8 apt update \u901F\u5EA6\uFF0C\u5982\u6709\u9700\u8981\u53EF\u81EA\u884C\u53D6\u6D88\u6CE8\u91CA</span>
deb http://mirrors.aliyun.com/ubuntu/ jammy main restricted universe multiverse
<span class="token comment">#deb-src http://mirrors.aliyun.com/ubuntu/ jammy main restricted universe multiverse</span>
deb http://mirrors.aliyun.com/ubuntu/ jammy-security main restricted universe multiverse
<span class="token comment">#deb-src http://mirrors.aliyun.com/ubuntu/ jammy-security main restricted universe multiverse</span>
deb http://mirrors.aliyun.com/ubuntu/ jammy-updates main restricted universe multiverse
<span class="token comment">#deb-src http://mirrors.aliyun.com/ubuntu/ jammy-updates main restricted universe multiverse</span>
deb http://mirrors.aliyun.com/ubuntu/ jammy-proposed main restricted universe multiverse
<span class="token comment">#deb-src http://mirrors.aliyun.com/ubuntu/ jammy-proposed main restricted universe multiverse</span>
deb http://mirrors.aliyun.com/ubuntu/ jammy-backports main restricted universe multiverse
<span class="token comment">#deb-src http://mirrors.aliyun.com/ubuntu/ jammy-backports main restricted universe multiverse</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u6E05\u534E\u6E90ubuntu-22-04-jammy" tabindex="-1"><a class="header-anchor" href="#\u6E05\u534E\u6E90ubuntu-22-04-jammy" aria-hidden="true">#</a> <strong>\u6E05\u534E\u6E90Ubuntu 22.04(jammy)</strong></h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u9ED8\u8BA4\u6CE8\u91CA\u4E86\u6E90\u7801\u955C\u50CF\u4EE5\u63D0\u9AD8 apt update \u901F\u5EA6\uFF0C\u5982\u6709\u9700\u8981\u53EF\u81EA\u884C\u53D6\u6D88\u6CE8\u91CA</span>
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy main restricted universe multiverse
<span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy main restricted universe multiverse</span>
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy-updates main restricted universe multiverse
<span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy-updates main restricted universe multiverse</span>
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy-backports main restricted universe multiverse
<span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy-backports main restricted universe multiverse</span>
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy-security main restricted universe multiverse
<span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy-security main restricted universe multiverse</span>

<span class="token comment"># \u9884\u53D1\u5E03\u8F6F\u4EF6\u6E90\uFF0C\u4E0D\u5EFA\u8BAE\u542F\u7528</span>
<span class="token comment"># deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy-proposed main restricted universe multiverse</span>
<span class="token comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy-proposed main restricted universe multiverse</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u4E2D\u79D1\u5927\u6E90ubuntu-22-04-jammy" tabindex="-1"><a class="header-anchor" href="#\u4E2D\u79D1\u5927\u6E90ubuntu-22-04-jammy" aria-hidden="true">#</a> <strong>\u4E2D\u79D1\u5927\u6E90Ubuntu 22.04(jammy)</strong></h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>deb https://mirrors.ustc.edu.cn/ubuntu/ jammy main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ jammy-updates main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy-updates main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ jammy-backports main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy-backports main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ jammy-security main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy-security main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ jammy-proposed main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy-proposed main restricted universe multiverse
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u963F\u91CC\u6E90ubuntu-20-04-focal" tabindex="-1"><a class="header-anchor" href="#\u963F\u91CC\u6E90ubuntu-20-04-focal" aria-hidden="true">#</a> \u963F\u91CC\u6E90ubuntu 20.04(focal)</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u9ED8\u8BA4\u6CE8\u91CA\u4E86\u6E90\u7801\u955C\u50CF\u4EE5\u63D0\u9AD8 apt update \u901F\u5EA6\uFF0C\u5982\u6709\u9700\u8981\u53EF\u81EA\u884C\u53D6\u6D88\u6CE8\u91CA</span>
deb https://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
<span class="token comment"># deb-src https://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse</span>
deb https://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
<span class="token comment"># deb-src https://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse</span>
deb https://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
<span class="token comment"># deb-src https://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse</span>
deb https://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
<span class="token comment"># deb-src https://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse</span>
<span class="token comment"># deb https://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse</span>
<span class="token comment"># deb-src https://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse</span>

<span class="token comment"># ubuntu 18.04(bionic) \u914D\u7F6E\u5982\u4E0B</span>

deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u79D1\u5927\u6E90ubuntu-20-04-focal" tabindex="-1"><a class="header-anchor" href="#\u79D1\u5927\u6E90ubuntu-20-04-focal" aria-hidden="true">#</a> \u79D1\u5927\u6E90ubuntu 20.04(focal)</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u9ED8\u8BA4\u6CE8\u91CA\u4E86\u6E90\u7801\u4ED3\u5E93\uFF0C\u5982\u6709\u9700\u8981\u53EF\u81EA\u884C\u53D6\u6D88\u6CE8\u91CA</span>
deb https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiverse
<span class="token comment"># deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiverse</span>
deb https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiverse
<span class="token comment"># deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiverse</span>
deb https://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiverse
<span class="token comment"># deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiverse</span>
deb https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiverse
<span class="token comment"># deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiverse</span>
<span class="token comment"># \u9884\u53D1\u5E03\u8F6F\u4EF6\u6E90\uFF0C\u4E0D\u5EFA\u8BAE\u542F\u7528</span>
<span class="token comment"># deb https://mirrors.ustc.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse</span>
<span class="token comment"># deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u7F51\u6613\u6E90ubuntu-20-04-focal" tabindex="-1"><a class="header-anchor" href="#\u7F51\u6613\u6E90ubuntu-20-04-focal" aria-hidden="true">#</a> \u7F51\u6613\u6E90ubuntu 20.04(focal)</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>deb http://mirrors.163.com/ubuntu/ wily main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ wily-security main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ wily-updates main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ wily-proposed main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ wily-backports main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ wily main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ wily-security main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ wily-updates main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ wily-proposed main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ wily-backports main restricted universe multiverse
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u9009\u62E9\u4E00\u4E2A\u6E90\u6DFB\u52A0\u5230\u6587\u4EF6\u6700\u524D\u9762\u6216\u76F4\u63A5\u66FF\u6362\u6389\u539F\u6587\u4EF6\u3002\u4FDD\u5B58\u540E\u8FD0\u884C</p><h3 id="\u68C0\u67E5\u751F\u6548" tabindex="-1"><a class="header-anchor" href="#\u68C0\u67E5\u751F\u6548" aria-hidden="true">#</a> \u68C0\u67E5\u751F\u6548</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u68C0\u67E5\u66F4\u65B0</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token comment"># \u5347\u7EA7</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> upgrade
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5728wsl2\u4E0B\u5B89\u88C5docker" tabindex="-1"><a class="header-anchor" href="#\u5728wsl2\u4E0B\u5B89\u88C5docker" aria-hidden="true">#</a> \u5728WSL2\u4E0B\u5B89\u88C5Docker</h2><p>wsl2\u5DF2\u7ECF\u5B8C\u6574\u4F7F\u7528\u4E86linux\u5185\u6838\u6B64\u79CD\u65B9\u5F0F\u4E0E\u4E4B\u524D\u5728vmware\u865A\u62DF\u673A\u5B89\u88C5docker\u7C7B\u4F3C\uFF0C\u4F9D\u6B21\u6267\u884C\u5982\u4E0B\u547D\u4EE4\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sSL</span> https://get.daocloud.io/docker <span class="token operator">|</span> <span class="token function">sh</span>
\u6216
<span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://get.docker.com <span class="token parameter variable">-o</span> get-docker.sh$ <span class="token function">sudo</span> <span class="token function">sh</span> get-docker.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u539F\u751Flinux\u5B89\u88C5docker\u65B9\u5F0F</strong></p><p>\u56E0\u4E3Awsl2\u5DF2\u7ECF\u5B8C\u6574\u4F7F\u7528\u4E86linux\u5185\u6838\u4E86\uFF0C\u6B64\u79CD\u65B9\u5F0F\u548C\u5148\u524D\u5728linux\u865A\u62DF\u673A\u5B89\u88C5docker\u7C7B\u4F3C\uFF0C\u6B65\u9AA4\u5982\u4E0B\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://get.docker.com <span class="token parameter variable">-o</span> get-docker.sh
<span class="token function">sudo</span> <span class="token function">sh</span> get-docker.sh
<span class="token function">sudo</span> <span class="token function">service</span> <span class="token function">docker</span> start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6267\u884C\u811A\u672C\u5B89\u88C5\u8FC7\u7A0B\u4E2D\uFF0C\u811A\u672C\u63D0\u793A\u201C<strong>\u5EFA\u8BAE\u4F7F\u7528Docker Desktop for windows</strong>\u201D\uFF0C20s\u5185\u6309Ctrl+C\u4F1A\u9000\u51FA\u5B89\u88C5\uFF0C\u6240\u4EE5\u9700\u8981\u7B49\u5F8520s\uFF0C\u6B64\u79CD\u65B9\u5F0F\u9700\u8981\u8BBF\u95EE\u7F51\u7EDC\u3002</p><p>\u6700\u540E\u4E00\u4E2A\u6B65\u9AA4\uFF0C\u542F\u52A8Docker daemon\u3002\u4F46\u662F\u6B64\u5904\u6709\u4E00\u4E2A\u95EE\u9898\uFF0CWSL2\u7ECF\u8FC7\u6D4B\u8BD5\u65E0\u6CD5\u4F7F\u7528systemctl\u547D\u4EE4\uFF08\u6B64\u95EE\u9898\u5DF2\u7ECF\u89E3\u51B3ubuntu20.04\uFF09\uFF0C\u56E0\u6B64\u6211\u4EEC\u4F7F\u7528service\u547D\u4EE4\u542F\u52A8Docker daemon\u8FDB\u7A0B\u3002\u547D\u4EE4\u5982\u4E0B\u6240\u793A\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">service</span> <span class="token function">docker</span> start
* Starting Docker: <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,31),x={href:"https://registry-1.docker.io/v2/library/redis/manifests/latest:",target:"_blank",rel:"noopener noreferrer"},_=i(`<p>\u4FEE\u6539daemon.json\u64CD\u4F5C\u547D\u4EE4\u5982\u4E0B:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">vim</span> /etc/docker/daemon.json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;registry-mirrors&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token string">&quot;https://l1hp9lgc.mirror.aliyuncs.com&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;https://docker.mirrors.ustc.edu.cn&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;http://hub-mirror.c.163.com&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;http://f1361db2.m.daocloud.io&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;https://ovfftd6p.mirror.aliyuncs.com&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;https://ayyx3zqn.mirror.aliyuncs.com&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;https://registry.docker-cn.com&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;https://dockerhub.azk8s.cn&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;https://reg-mirror.qiniu.com&quot;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u68C0\u67E5docker\u5B89\u88C5\u6B63\u5E38</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">service</span> <span class="token function">docker</span> restart
<span class="token comment"># \u68C0\u67E5dockerd\u8FDB\u7A0B\u542F\u52A8</span>
<span class="token function">service</span> <span class="token function">docker</span> status
<span class="token function">ps</span> aux<span class="token operator">|</span><span class="token function">grep</span> <span class="token function">docker</span>
<span class="token comment"># \u68C0\u67E5\u62C9\u53D6\u955C\u50CF\u7B49\u6B63\u5E38</span>
<span class="token function">docker</span> pull busybox
<span class="token function">docker</span> images
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5378\u8F7Ddocker" tabindex="-1"><a class="header-anchor" href="#\u5378\u8F7Ddocker" aria-hidden="true">#</a> \u5378\u8F7DDocker</h3><ul><li>Ubuntu|Debian</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> remove <span class="token function">docker</span> docker-engine
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5378\u8F7DDocker\u540E,/var/lib/docker/\u76EE\u5F55\u4E0B\u4F1A\u4FDD\u7559\u539FDocker\u7684\u955C\u50CF,\u7F51\u7EDC,\u5B58\u50A8\u5377\u7B49\u6587\u4EF6. \u5982\u679C\u9700\u8981\u5168\u65B0\u5B89\u88C5Docker,\u9700\u8981\u5220\u9664/var/lib/docker/\u76EE\u5F55</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">rm</span> <span class="token parameter variable">-fr</span> /var/lib/docker/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u5B89\u88C5-docker-compose" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5-docker-compose" aria-hidden="true">#</a> \u5B89\u88C5 Docker Compose</h2>`,11),D={href:"https://docs.docker.com/compose/install/",target:"_blank",rel:"noopener noreferrer"},S=i('<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-L</span> https://get.daocloud.io/docker/compose/releases/download/v2.10.0/docker-compose-<span class="token variable"><span class="token variable">`</span><span class="token function">uname</span> <span class="token parameter variable">-s</span><span class="token variable">`</span></span>-<span class="token variable"><span class="token variable">`</span><span class="token function">uname</span> <span class="token parameter variable">-m</span><span class="token variable">`</span></span> <span class="token operator">&gt;</span> /usr/local/bin/docker-compose\n\n<span class="token function">chmod</span> +x /usr/local/bin/docker-compose\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F60\u53EF\u4EE5\u901A\u8FC7\u4FEE\u6539URL\u4E2D\u7684\u7248\u672C\uFF0C\u53EF\u4EE5\u81EA\u5B9A\u4E49\u60A8\u7684\u9700\u8981\u7684\u7248\u672C\u3002</p><h2 id="\u5728-windows-mac-\u4E0A\u5B89\u88C5-docker" tabindex="-1"><a class="header-anchor" href="#\u5728-windows-mac-\u4E0A\u5B89\u88C5-docker" aria-hidden="true">#</a> \u5728 Windows/Mac \u4E0A\u5B89\u88C5 Docker</h2>',3),q={href:"https://www.docker.com/products/docker#/windows",target:"_blank",rel:"noopener noreferrer"},L={href:"https://www.docker.com/products/docker#/mac",target:"_blank",rel:"noopener noreferrer"},j={href:"https://www.docker.com/toolbox",target:"_blank",rel:"noopener noreferrer"},W={href:"https://get.daocloud.io/docker-install/windows",target:"_blank",rel:"noopener noreferrer"},U={href:"https://get.daocloud.io/docker-install/mac",target:"_blank",rel:"noopener noreferrer"},P={href:"https://get.daocloud.io/toolbox/",target:"_blank",rel:"noopener noreferrer"},A=i(`<h2 id="wsl2-docker-\u5F00\u673A\u81EA\u542F" tabindex="-1"><a class="header-anchor" href="#wsl2-docker-\u5F00\u673A\u81EA\u542F" aria-hidden="true">#</a> WSL2+Docker \u5F00\u673A\u81EA\u542F</h2><blockquote><p>\u6D4B\u8BD5Ubuntu 20.04\u6709\u6548\uFF0C22.04\u65E0\u6548\uFF0C\u4E0D\u77E5\u9053\u4E3A\u4F55</p></blockquote><h3 id="wsl2\u5185\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#wsl2\u5185\u64CD\u4F5C" aria-hidden="true">#</a> WSL2\u5185\u64CD\u4F5C</h3><ol><li>\u547D\u4EE4\u884C\u8F93\u5165</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span> /etc/init.wsl
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol><li>\u6309\u2018I\u2019\u6216\u2018A\u2019\u8FDB\u5165\u7F16\u8F91\u6A21\u5F0F\uFF0C\u8F93\u5165\u4EE5\u4E0B\u5185\u5BB9</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#! /bin/sh</span>
<span class="token function">service</span> <span class="token function">docker</span> start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6CE8\uFF1A\u8FD9\u91CC\u53EF\u653E\u5165\u5176\u5B83Linux\u547D\u4EE4</p><ol><li>\u6309\u2018Esc\u2019\u9000\u51FA\u7F16\u8F91\u6A21\u5F0F\uFF0C\u8F93\u5165\u4EE5\u4E0B\u547D\u4EE4\u4FDD\u5B58\u5E76\u9000\u51FA</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>:wq<span class="token operator">!</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol><li>\u8D4B\u4E88\u6587\u4EF6\u53EF\u6267\u884C\u6743\u9650</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">chmod</span> +x /etc/init.wsl
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u5176\u4ED6\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u5176\u4ED6\u65B9\u6CD5" aria-hidden="true">#</a> \u5176\u4ED6\u65B9\u6CD5\uFF1A</h3>`,13),I=i(`<p><em><strong>Option 1</strong>:</em> On Windows 11, add the necessary commands to the <code>[boot]</code> section in <code>/etc/wsl.conf</code>:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[boot]
command=&quot;service docker start&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,2),$={href:"https://github.com/microsoft/WSL/issues/8661",target:"_blank",rel:"noopener noreferrer"},F=s("code",null,"boot.command",-1),N=i(`<li><p><em><strong>Option 2</strong>:</em> On Windows 10, run the necessary commands in your <em>user</em> startup scripts (e.g. <code>.profile</code>). Do it with a check to see if the service is running first, like:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>wsl.exe -u root -e sh -c &quot;service docker status || service docker start&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This is a better alternative than my previous answer (option 3, below) since it doesn&#39;t require modification to <code>sudoers</code>. This takes advantage of the fact that the <code>wsl.exe</code> command can be run from inside WSL, using the <code>-u root</code> option to run the commands as root without a password.</p><p>Note: If for some reason this command fails, your default WSL distribution may be different than you expect. Check the output of <code>wsl.exe -l -v</code>. You can change the default distro using <code>wsl.exe --setdefault &lt;distro_name&gt;</code> or adjust the commandline above to specify the distro with <code>-d &lt;distro_name&gt;</code>.</p></li><li><p><em><strong>Option 3:</strong></em> (old answer, here for posterity): <code>visudo</code> or add rules to <code>/etc/sudoers.d</code> to allow your user to run the commands without a password:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>username ALL = (root) NOPASSWD: /usr/sbin/service docker *
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Then edit your <code>.profile</code> to add:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>sudo service docker status || sudo service docker start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li>`,2),E=i(`<h2 id="win10\u4E0Ewsl2\u5B50\u7CFB\u7EDF\u4E92\u76F8\u8BBF\u95EE" tabindex="-1"><a class="header-anchor" href="#win10\u4E0Ewsl2\u5B50\u7CFB\u7EDF\u4E92\u76F8\u8BBF\u95EE" aria-hidden="true">#</a> Win10\u4E0Ewsl2\u5B50\u7CFB\u7EDF\u4E92\u76F8\u8BBF\u95EE</h2><p>Win10\u8BBF\u95EEwsl2\u7CFB\u7EDF\u6BD4vm\u865A\u62DF\u673A\u662F\u4EAE\u70B9\uFF0C\u7279\u522B\u65B9\u4FBF\uFF0C\u8FDB\u5165CMD\u6216\u8005PowerShell\uFF0C\u8F93\u5165\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>cd \\\\wsl$\\Ubuntu\\
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u53EF\u4EE5\u8FDB\u5165Ubuntu-20.04\u5B50\u7CFB\u7EDF\u6839\u76EE\u5F55</p><p>\u6216\u8005\u6253\u5F00\u6587\u4EF6\u8D44\u6E90\u7BA1\u7406\u5668\uFF0C\u5728\u5730\u5740\u680F\u8F93\u5165 <code>\\\\wsl$</code> \u6216 <code>\\\\wsl$\\Ubuntu\\</code>\uFF0C\u4E5F\u53EF\u4EE5Ubuntu\u5B50\u7CFB\u7EDF\u6839\u76EE\u5F55\u3002</p><p><img src="http://122.9.159.116:5244/d/ecloud180/images/blogImage/6645072-861e342815516794.png" alt="6645072-861e342815516794.png" loading="lazy"></p><h2 id="ubuntu-22-04-jammy-\u5B89\u88C5docker\u542F\u52A8\u62A5\u9519" tabindex="-1"><a class="header-anchor" href="#ubuntu-22-04-jammy-\u5B89\u88C5docker\u542F\u52A8\u62A5\u9519" aria-hidden="true">#</a> Ubuntu 22.04(jammy) \u5B89\u88C5docker\u542F\u52A8\u62A5\u9519</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>root@Legion:~# sudo docker run hello-world
docker: Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?.
See &#39;docker run --help&#39;.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u89E3\u51B3\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u89E3\u51B3\u65B9\u6CD5" aria-hidden="true">#</a> \u89E3\u51B3\u65B9\u6CD5\uFF1A</h3>`,9),O={href:"https://crapts.org/2022/05/15/install-docker-in-wsl2-with-ubuntu-22-04-lts/",target:"_blank",rel:"noopener noreferrer"},C=i(`<p>However, when you install Docker in WSL2 with the latest Ubuntu 22.04 LTS, you will notice that Docker will not start after running <code>sudo service docker start</code>. You will receive errors when starting a container, and <code>sudo service docker status</code> will tell you Docker is not running.</p><p>The reason this errors occurs is because Ubuntu 22.04 LTS uses <code>iptables-nft</code> by default. You need to switch to <code>iptables-legacy</code> so that Docker will work again:</p><ol><li>Run <code>sudo update-alternatives --config iptables</code></li><li>Enter <code>1</code> to select <code>iptables-legacy</code></li><li>Now run <code>sudo service docker start</code>, and Docker will start as expected!</li></ol><h2 id="systemctl\u547D\u4EE4\u65E0\u6CD5\u4F7F\u7528-20-04" tabindex="-1"><a class="header-anchor" href="#systemctl\u547D\u4EE4\u65E0\u6CD5\u4F7F\u7528-20-04" aria-hidden="true">#</a> systemctl\u547D\u4EE4\u65E0\u6CD5\u4F7F\u7528\uFF0820.04\uFF09</h2><p>\u73B0\u8C61\u4E3A\u5728\u547D\u4EE4\u884C\u6267\u884C<code>systemctl</code>\u547D\u4EE4\uFF0C\u62A5\u5982\u4E0B\u9519\u8BEF\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>System has not been booted with systemd as init system <span class="token punctuation">(</span>PID <span class="token number">1</span><span class="token punctuation">)</span>. Can&#39;t operate.
Failed to connect to bus: Host is down
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,6),M={href:"https://links.jianshu.com/go?to=https%3A%2F%2Fforum.snapcraft.io%2Ft%2Frunning-snaps-on-wsl2-insiders-only-for-now%2F13033",target:"_blank",rel:"noopener noreferrer"},R=i(`<p>1.\u5B89\u88C5daemonize\u548Cfontconfig</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">apt</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> fontconfig daemonize
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>2.\u7F16\u8F91<code>vim /etc/profile</code>\u811A\u672C\uFF0C\u52A0\u5165\u5982\u4E0B\u5185\u5BB9\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">SYSTEMD_PID</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">ps</span> <span class="token parameter variable">-ef</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&#39;/lib/systemd/systemd --system-unit=basic.target$&#39;</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-v</span> unshare <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{print $2}&#39;</span><span class="token variable">)</span></span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-z</span> <span class="token string">&quot;<span class="token variable">$SYSTEMD_PID</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
   <span class="token function">sudo</span> /usr/bin/daemonize /usr/bin/unshare <span class="token parameter variable">--fork</span> <span class="token parameter variable">--pid</span> --mount-proc /lib/systemd/systemd --system-unit<span class="token operator">=</span>basic.target
   <span class="token assign-left variable">SYSTEMD_PID</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">ps</span> <span class="token parameter variable">-ef</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&#39;/lib/systemd/systemd --system-unit=basic.target$&#39;</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-v</span> unshare <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{print $2}&#39;</span><span class="token variable">)</span></span>
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-n</span> <span class="token string">&quot;<span class="token variable">$SYSTEMD_PID</span>&quot;</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$SYSTEMD_PID</span>&quot;</span> <span class="token operator">!=</span> <span class="token string">&quot;1&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token builtin class-name">exec</span> <span class="token function">sudo</span> /usr/bin/nsenter <span class="token parameter variable">-t</span> <span class="token variable">$SYSTEMD_PID</span> <span class="token parameter variable">-a</span> <span class="token function">su</span> - <span class="token environment constant">$LOGNAME</span>
<span class="token keyword">fi</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.\u4FEE\u6539<code>vim /etc/sudoers</code>\u6587\u4EF6\uFF0C\u52A0\u5165\u5982\u4E0B\u5185\u5BB9\uFF1A</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token operator">%</span>sudo <span class="token constant">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token constant">ALL</span><span class="token punctuation">)</span> <span class="token constant">NOPASSWD</span><span class="token operator">:</span> <span class="token operator">/</span>usr<span class="token operator">/</span>sbin<span class="token operator">/</span>daemonize <span class="token operator">/</span>usr<span class="token operator">/</span>bin<span class="token operator">/</span>unshare <span class="token operator">--</span>fork <span class="token operator">--</span>pid <span class="token operator">--</span>mount<span class="token operator">-</span>proc <span class="token operator">/</span>lib<span class="token operator">/</span>systemd<span class="token operator">/</span>systemd <span class="token operator">--</span>system<span class="token operator">-</span>unit<span class="token operator">=</span>basic<span class="token punctuation">.</span>target
<span class="token operator">%</span>sudo <span class="token constant">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token constant">ALL</span><span class="token punctuation">)</span> <span class="token constant">NOPASSWD</span><span class="token operator">:</span> <span class="token operator">/</span>usr<span class="token operator">/</span>bin<span class="token operator">/</span>nsenter <span class="token operator">-</span>t <span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">*</span> <span class="token operator">-</span>a su <span class="token operator">-</span> <span class="token punctuation">[</span>a<span class="token operator">-</span>zA<span class="token operator">-</span><span class="token constant">Z0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">*</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>4.\u6267\u884C<code>source /etc/profile</code>\u6216\u8005\u662F\u91CD\u65B0\u6253\u5F00terminal\uFF0C\u6267\u884C<code>systemctl</code>\u9A8C\u8BC1\u662F\u5426\u80FD\u591F\u6B63\u5E38\u64CD\u4F5C\u3002</p><h2 id="vmmem-\u8FDB\u7A0B\u5360\u7528\u8FC7\u591A\u5185\u5B58" tabindex="-1"><a class="header-anchor" href="#vmmem-\u8FDB\u7A0B\u5360\u7528\u8FC7\u591A\u5185\u5B58" aria-hidden="true">#</a> Vmmem \u8FDB\u7A0B\u5360\u7528\u8FC7\u591A\u5185\u5B58</h2><p>\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7WSL\u7684\u914D\u7F6E\u6587\u4EF6\uFF0C\u9650\u5236vmmem\u8FDB\u7A0B\u7684\u5185\u5B58\u5360\u7528\u3002\u5728%UserProfile%\u76EE\u5F55\u521B\u5EFA<code>.wslconfig</code>\u6587\u4EF6\uFF0C\u6DFB\u52A0\u5982\u4E0B\u5185\u5BB9\uFF1A</p><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">wsl2</span></span><span class="token punctuation">]</span>
memory<span class="token operator">=</span>2GB
swap<span class="token operator">=</span><span class="token number">0</span>
localhostForwarding<span class="token operator">=</span><span class="token boolean">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u91CC\u9650\u5236\u4E86vmmem\u8FDB\u7A0B\u6700\u5927\u5185\u5B58\u4E0D\u8D85\u8FC76GB\uFF0C\u4E0D\u4F7F\u7528\u4EA4\u6362\u7A7A\u95F4\u3002 \u521B\u5EFA\u5B8C\u914D\u7F6E\u6587\u4EF6\u540E\uFF0C\u6267\u884C<code>wsl --shutdown</code>\u5173\u95EDWSL\uFF0C\u518D\u91CD\u65B0\u542F\u52A8\u5373\u53EF\u751F\u6548\u3002</p>`,11),T={href:"https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fmicrosoft%2FWSL%2Fissues%2F4166",target:"_blank",rel:"noopener noreferrer"},z={href:"https://links.jianshu.com/go?to=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fwindows%2Fwsl%2Frelease-notes%23build-18945",target:"_blank",rel:"noopener noreferrer"},V=i(`<h2 id="wsl2-\u5F00\u673A\u81EA\u542F\u8FD0\u884C\u811A\u672C" tabindex="-1"><a class="header-anchor" href="#wsl2-\u5F00\u673A\u81EA\u542F\u8FD0\u884C\u811A\u672C" aria-hidden="true">#</a> WSL2 \u5F00\u673A\u81EA\u542F\u8FD0\u884C\u811A\u672C</h2><p>\u76EE\u5F55\uFF1A</p><p>1\u3001 <code>/etc/profile.d</code></p><p>2\u3001 <code>~/.bashrc</code></p><p>\u4F8B\u5982\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /etc/profile.d
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u542F\u52A8docker" tabindex="-1"><a class="header-anchor" href="#\u542F\u52A8docker" aria-hidden="true">#</a> \u542F\u52A8docker</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">vim</span> docker.sh

<span class="token comment">#! /bin/sh</span>
<span class="token function">service</span> <span class="token function">docker</span> start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u56FA\u5B9Aip" tabindex="-1"><a class="header-anchor" href="#\u56FA\u5B9Aip" aria-hidden="true">#</a> \u56FA\u5B9AIP</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">vim</span> /etc/profile.d/static_ip.sh

<span class="token comment"># static ip</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token function">ip</span> addr show eth0 <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&#39;inet\\b&#39;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{print $2}&#39;</span> <span class="token operator">|</span> <span class="token function">head</span> <span class="token parameter variable">-n</span> <span class="token number">1</span><span class="token variable">)</span></span>&quot;</span> <span class="token operator">!=</span> <span class="token string">&quot;192.168.50.3/24&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">then</span>
<span class="token function">sudo</span> <span class="token function">ip</span> addr del <span class="token variable"><span class="token variable">$(</span><span class="token function">ip</span> addr show eth0 <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&#39;inet\\b&#39;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{print $2}&#39;</span> <span class="token operator">|</span> <span class="token function">head</span> <span class="token parameter variable">-n</span> <span class="token number">1</span><span class="token variable">)</span></span> dev eth0
<span class="token function">sudo</span> <span class="token function">ip</span> addr <span class="token function">add</span> <span class="token number">192.168</span>.50.3/24 broadcast <span class="token number">192.168</span>.50.255 dev eth0
<span class="token function">sudo</span> <span class="token function">ip</span> route <span class="token function">add</span> <span class="token number">0.0</span>.0.0/0 via <span class="token number">192.168</span>.50.1 dev eth0
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;nameserver 223.5.5.5 <span class="token entity" title="\\n">\\n</span>nameserver 192.168.50.1 <span class="token entity" title="\\n">\\n</span>nameserver 192.168.89.178 <span class="token entity" title="\\n">\\n</span>nameserver 114.114.114.114 <span class="token entity" title="\\n">\\n</span>nameserver 8.8.4.4&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/resolv.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8BBE\u7F6E\u6743\u9650\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">chmod</span> +x /etc/profile.d/static_ip.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="\u514D\u5BC6sudo\u6743\u9650" tabindex="-1"><a class="header-anchor" href="#\u514D\u5BC6sudo\u6743\u9650" aria-hidden="true">#</a> \u514D\u5BC6sudo\u6743\u9650</h4><p>\u4E3A\u4E86\u6267\u884C\u4E0A\u4E00\u6B65\uFF0C\u9700\u8981\u8FD9\u4E2A\u6743\u9650\u3002 \u5728 <code>/etc/sudoers</code> \u91CC\u6DFB\u52A0\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">vim</span> /etc/sudoers

UserName <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span> NOPASSWD:ALL
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u914D\u7F6Edns" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6Edns" aria-hidden="true">#</a> \u914D\u7F6EDNS</h4><p>\u5728 <code>/etc/wsl.conf</code> \u6587\u4EF6\u5199\u5165</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">vim</span> /etc/wsl.conf

<span class="token punctuation">[</span>network<span class="token punctuation">]</span>
generateResolvConf <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token comment"># \u4E0D\u81EA\u52A8\u751F\u6210dns\u914D\u7F6E\uFF0C\u5FC5\u987B</span>
generateHosts <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token comment"># \u662F\u5426\u751F\u6210hosts\u6587\u4EF6\uFF0C\u53EF\u9009</span>

<span class="token punctuation">[</span>interop<span class="token punctuation">]</span>
enabled <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token comment"># \u4E0D\u80FD\u8C03\u7528Windows\u8FDB\u7A0B\uFF0C\u53EF\u9009</span>
appendWindowsPath <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token comment"># \u4E0D\u6DFB\u52A0Windows\u8DEF\u5F84\uFF0C\u53EF\u9009</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0B\u9762\u6211\u4E5F\u4E0D\u77E5\u9053\uFF0C\u90FD\u505A\u4E00\u904D,\u6216\u8005\u4E0D\u505A</p><p>\u7136\u540E\u5220\u6389 /etc/resolv.conf\uFF08\u56E0\u4E3A\u81EA\u52A8\u751F\u6210\u7684\u4E3A\u4E00\u4E2A\u8F6F\u8FDE\u63A5\uFF09\uFF0C\u5E76\u91CD\u65B0\u5EFA\u4E00\u4E2A /etc/resolv.conf \u6587\u672C\u6587\u4EF6\uFF0C\u5E76\u5C06\u5176 DNS \u670D\u52A1\u5668\u5730\u5740\u6307\u5B9A\u4E3A\u81EA\u5DF1\u60F3\u7528\u7684\uFF0C\u5982\u4E0B\uFF1A</p><p>\u5728<code>vim /etc/wsl.resolv</code>\u6587\u4EF6\u5199\u5165\uFF08\u5982\u679C\u539F\u6765\u662F\u8F6F\u8FDE\u63A5\u6587\u4EF6\uFF0C\u9700\u8981\u5148\u5220\u9664\uFF09</p><p>\u5728 <code>/etc/resolv.conf</code>\u6587\u4EF6\u5199\u5165\uFF08\u5982\u679C\u539F\u6765\u662F\u8F6F\u8FDE\u63A5\u6587\u4EF6\uFF0C\u9700\u8981\u5148\u5220\u9664\uFF09</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">vim</span> /etc/resolv.conf

nameserver <span class="token number">223.5</span>.5.5
nameserver <span class="token number">192.168</span>.50.1
nameserver <span class="token number">192.168</span>.89.178
nameserver <span class="token number">114.114</span>.114.114
nameserver <span class="token number">8.8</span>.4.4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="wsl2-\u7CFB\u7EDF\u5360\u7528\u78C1\u76D8\u7A7A\u95F4\u4E0D\u91CA\u653E" tabindex="-1"><a class="header-anchor" href="#wsl2-\u7CFB\u7EDF\u5360\u7528\u78C1\u76D8\u7A7A\u95F4\u4E0D\u91CA\u653E" aria-hidden="true">#</a> WSL2 \u7CFB\u7EDF\u5360\u7528\u78C1\u76D8\u7A7A\u95F4\u4E0D\u91CA\u653E</h2><p>WSL2\u672C\u8D28\u662F\u865A\u62DF\u673A\uFF0C\u5B83\u4F7F\u7528\u7684\u662Fvhdx\u865A\u62DF\u78C1\u76D8\u683C\u5F0F\u3002\u5B83\u652F\u6301\u81EA\u52A8\u6269\u5BB9\uFF0C\u4F46\u662F\u5E76\u4E0D\u4F1A\u81EA\u52A8\u7F29\u5BB9\u3002</p><p>\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528<code>diskpart</code>\u547D\u4EE4\uFF0C\u624B\u5DE5\u6267\u884C\u7F29\u5BB9\u64CD\u4F5C\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>diskpart
<span class="token comment"># open window Diskpart</span>
<span class="token keyword">select</span> vdisk <span class="token assign-left variable">file</span><span class="token operator">=</span><span class="token string">&quot;D:\\WSL\\Ubuntu<span class="token entity" title="\\e">\\e</span>xt4.vhdx&quot;</span>
attach vdisk <span class="token builtin class-name">readonly</span>
compact vdisk
detach vdisk
<span class="token builtin class-name">exit</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5176\u4E2D<code>D:\\WSL\\Ubuntu\\ext4.vhdx</code>\u4E3AWSL2\u7CFB\u7EDF\u865A\u62DF\u78C1\u76D8\u6587\u4EF6\u8DEF\u5F84\u3002</p><h2 id="wsl-\u4F7F\u7528-root-\u7528\u6237" tabindex="-1"><a class="header-anchor" href="#wsl-\u4F7F\u7528-root-\u7528\u6237" aria-hidden="true">#</a> WSL \u4F7F\u7528 root \u7528\u6237</h2><h3 id="\u4FEE\u6539root\u7528\u6237\u5BC6\u7801" tabindex="-1"><a class="header-anchor" href="#\u4FEE\u6539root\u7528\u6237\u5BC6\u7801" aria-hidden="true">#</a> \u4FEE\u6539root\u7528\u6237\u5BC6\u7801</h3><ul><li>WSL \u9ED8\u8BA4\u662F\u6CA1\u6709\u8BBE\u7F6E root \u5BC6\u7801\u7684</li><li>\u8BBE\u7F6E root \u7528\u6237\u5BC6\u7801, \u8FD9\u6837\u8981\u8F93\u4E09\u6B21\u547D\u4EE4, \u7B2C\u4E00\u6B21\u5F53\u524D\u7528\u6237\u5BC6\u7801, \u540E\u4E24\u6B21\u5C31\u662F\u8BBE\u7F6E\u5BC6\u7801\u4EE5\u53CA\u786E\u8BA4\u5BC6\u7801</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u8BED\u6CD5: sudo passwd \u7528\u6237\u540D</span>
<span class="token function">sudo</span> <span class="token function">passwd</span> root
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>password updated successfully</code> \u4EE3\u8868\u5BC6\u7801\u66F4\u65B0\u6210\u529F, \u5207\u6362\u7528\u6237</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u8BED\u6CD5: su \u7528\u6237\u540D</span>
<span class="token function">su</span> root
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8BBE\u7F6E\u9ED8\u8BA4\u7528\u6237</p><p>\u5982\u679C\u662F\u81EA\u5B9A\u4E49\u5B89\u88C5\uFF0C\u9700\u8981\u5728\u5B89\u88C5\u76EE\u5F55\u6267\u884C\uFF1A</p><div class="language-powershell ext-powershell line-numbers-mode"><pre class="language-powershell"><code>D:\\Linux\\Ubuntu&gt;ubuntu config <span class="token operator">--</span>default-user root

D:\\Linux\\Ubuntu&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u8BED\u6CD5: ubuntu1804 config --default-user \u7528\u6237\u540D(\u5DF2\u5B58\u5728)</span>
ubuntu config --default-user root
PS C:<span class="token punctuation">\\</span>Users<span class="token punctuation">\\</span>ibbd<span class="token punctuation">\\</span>Desktop<span class="token operator">&gt;</span> ubuntu1804 config --default-user root
PS C:<span class="token punctuation">\\</span>Users<span class="token punctuation">\\</span>ibbd<span class="token punctuation">\\</span>Desktop<span class="token operator">&gt;</span>
<span class="token comment"># \u6CA1\u6709\u62A5\u9519\u5C31\u4EE3\u8868\u6210\u529F</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u91CD\u65B0\u6253\u5F00\u5DF2\u7ECF\u662Froot\u7528\u6237\u4E86</p><h2 id="\u53EF\u9009-\u4F7F\u7528podman\u53D6\u4EE3docker" tabindex="-1"><a class="header-anchor" href="#\u53EF\u9009-\u4F7F\u7528podman\u53D6\u4EE3docker" aria-hidden="true">#</a> (\u53EF\u9009)\u4F7F\u7528Podman\u53D6\u4EE3Docker</h2><p>Podman\u5DF2\u6210\u4E3ACentOS8\u5B98\u65B9\u5FA1\u7528\u5BB9\u5668\u7BA1\u7406\u5668\uFF0C\u5E76\u4E14Kubernetes1.12\u5DF2\u7ECF\u653E\u5F03\u5BF9Docker\u7684\u652F\u6301\u3002\u76F8\u6BD4Docker\uFF0CPodman\u65E0\u9700\u5B88\u62A4\u8FDB\u7A0B\uFF0C\u4E0D\u5F3A\u5236\u8981\u6C42\u4F7F\u7528root\u7528\u6237\u6765\u7BA1\u7406\u5BB9\u5668\uFF0C\u5177\u6709\u66F4\u597D\u7684\u7075\u6D3B\u6027\u548C\u5B89\u5168\u6027\u3002Podman\u4F7F\u7528\u65B9\u5F0F\u548CDocker\u5B8C\u5168\u76F8\u540C\uFF0C\u517C\u5BB9Docker\u7684\u955C\u50CF\u683C\u5F0F\u3002 \u7ECF\u672C\u4EBA\u8BD5\u9A8CPodman\u53EF\u4EE5\u5B8C\u7F8E\u7684\u5728WSL2 Ubuntu\u4E2D\u8FD0\u884C\u3002</p>`,41),B={href:"https://links.jianshu.com/go?to=https%3A%2F%2Fwww.redhat.com%2Fsysadmin%2Fpodman-windows-wsl2",target:"_blank",rel:"noopener noreferrer"},Y=i(`<p>\u4E0B\u9762\u811A\u672C\u4E3APodman\u7684\u5B89\u88C5\u811A\u672C\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">.</span> /etc/os-release
<span class="token function">sudo</span> <span class="token function">sh</span> <span class="token parameter variable">-c</span> <span class="token string">&quot;echo &#39;deb http://download.opensuse.org/repositories/devel:/kubic:/libcontainers:/stable/x<span class="token variable">\${NAME}</span>_<span class="token variable">\${VERSION_ID}</span>/ /&#39; &gt; /etc/apt/sources.list.d/devel:kubic:libcontainers:stable.list&quot;</span>
<span class="token function">wget</span> <span class="token parameter variable">-nv</span> https://download.opensuse.org/repositories/devel:kubic:libcontainers:stable/x<span class="token variable">\${NAME}</span>_<span class="token variable">\${VERSION_ID}</span>/Release.key <span class="token parameter variable">-O</span> Release.key
<span class="token function">sudo</span> apt-key <span class="token function">add</span> - <span class="token operator">&lt;</span> Release.key
<span class="token function">sudo</span> <span class="token function">apt-get</span> update <span class="token parameter variable">-qq</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token parameter variable">-qq</span> <span class="token parameter variable">-y</span> <span class="token function">install</span> <span class="token function">podman</span>
<span class="token function">sudo</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /etc/containers
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;[registries.search]<span class="token entity" title="\\n">\\n</span>registries = [&#39;docker.io&#39;, &#39;quay.io&#39;]&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/containers/registries.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C\u6CA1\u6709\u5176\u4ED6\u62A5\u9519\u4FE1\u606F\uFF0C\u5230\u8FD9\u91CCPodman\u5DF2\u5B89\u88C5\u5B8C\u6BD5\u3002\u6211\u4EEC\u53EF\u4EE5\u6267\u884C<code>podman info</code>\u547D\u4EE4\uFF0C\u9A8C\u8BC1\u662F\u5426\u5B89\u88C5\u6210\u529F\u3002</p><p><strong>\u5B98\u65B9\u5B89\u88C5</strong></p>`,4),G={href:"https://podman.io/getting-started/installation",target:"_blank",rel:"noopener noreferrer"},H=i(`<p>\u6CE8\u610F\uFF1A\u5728 Ubuntu 20.10 \u548C\u66F4\u65B0\u7248\u672C\u4E0A\uFF0C\u6211\u4EEC\u5F3A\u70C8\u5EFA\u8BAE\u60A8\u4EC5\u4F7F\u7528\u6765\u81EA Kubic \u5B58\u50A8\u5E93\u6216\u5B98\u65B9 Ubuntu \u5B58\u50A8\u5E93\u7684 Buildah\u3001Podman \u548C Skopeo\u3002\u6DF7\u5408\u548C\u5339\u914D\u53EF\u80FD\u4F1A\u5BFC\u81F4\u4E0D\u53EF\u9884\u77E5\u7684\u60C5\u51B5\uFF0C\u5305\u62EC\u5B89\u88C5\u51B2\u7A81\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">.</span> /etc/os-release
<span class="token builtin class-name">echo</span> <span class="token string">&quot;deb https://download.opensuse.org/repositories/devel:/kubic:/libcontainers:/stable/xUbuntu_<span class="token variable">\${VERSION_ID}</span>/ /&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/devel:kubic:libcontainers:stable.list
<span class="token function">curl</span> <span class="token parameter variable">-L</span> <span class="token string">&quot;https://download.opensuse.org/repositories/devel:/kubic:/libcontainers:/stable/xUbuntu_<span class="token variable">\${VERSION_ID}</span>/Release.key&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -
<span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token parameter variable">-y</span> upgrade
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token parameter variable">-y</span> <span class="token function">install</span> <span class="token function">podman</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u955C\u50CF\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">vim</span> /etc/containers/registries.conf

<span class="token punctuation">[</span>registries.search<span class="token punctuation">]</span>
registries <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;i2kldsde.mirror.aliyuncs.com&#39;</span>,<span class="token string">&#39;docker.io&#39;</span><span class="token punctuation">]</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4);function K(X,J){const e=c("ExternalLinkIcon");return r(),o("div",null,[d,s("p",null,[s("strong",null,[s("a",u,[n("https://docs.microsoft.com/zh-cn/windows/wsl/install-manual"),a(e)])])]),s("p",null,[n("\u5982\u679C\u613F\u610F\uFF0C\u4F60\u4E5F\u53EF\u901A\u8FC7\u547D\u4EE4\u884C\u4E0B\u8F7D\u9996\u9009\u7684\u53D1\u884C\u7248\uFF0C\u53EF\u5C06 PowerShell \u4E0E "),s("a",p,[n("Invoke-WebRequest"),a(e)]),n(" cmdlet \u4E00\u8D77\u4F7F\u7528\u3002 \u4F8B\u5982\uFF0C\u4E0B\u8F7D Ubuntu 20.04\uFF1A")]),m,s("p",null,[n("\u4F60\u8FD8\u53EF\u4EE5\u9009\u62E9\u4F7F\u7528 "),s("a",v,[n("curl \u547D\u4EE4\u884C\u5B9E\u7528\u7A0B\u5E8F"),a(e)]),n("\u6765\u4E0B\u8F7D\u3002 \u4F7F\u7528 curl \u4E0B\u8F7D Ubuntu 20.04\uFF1A")]),b,s("p",null,[n("\u5728\u672C\u793A\u4F8B\u4E2D\uFF0C\u5C06\u6267\u884C "),h,n("\uFF08\u800C\u4E0D\u4EC5\u4EC5\u662F "),k,n("\uFF09\uFF0C\u4EE5\u786E\u4FDD\u5728 PowerShell \u4E2D\u8C03\u7528\u771F\u6B63\u7684 curl \u53EF\u6267\u884C\u6587\u4EF6\uFF0C\u800C\u4E0D\u662F\u8C03\u7528 "),s("a",g,[n("Invoke WebRequest"),a(e)]),n(" \u7684 PowerShell curl \u522B\u540D\u3002")]),f,s("p",null,[n("3."),s("a",w,[n("WSL2.0 \u5B89\u88C5\u3001\u81EA\u5B9A\u4E49\u76EE\u5F55\u3001docker\u3001\u5F00\u673A+docker\u81EA\u542F\u3001\u62A5\u9519\u6559\u7A0B"),a(e)])]),y,s("p",null,[n("**\u6CE8\u610F:**\u5728\u6211\u5B89\u88C5\u5B8C\u6BD5docker\u540E,docker pull\u4EE5\u53CArun\u90FD\u4F1A\u51FA\u73B0\u5F02\u5E38 Error response from daemon: Get "),s("a",x,[n("https://registry-1.docker.io/v2/library/redis/manifests/latest:"),a(e)]),n(" remote error: tls: bad record MAC \u6B64\u65F6\u53EA\u9700\u8981\u4FEE\u6539docker\u955C\u50CF\u4E0B\u8F7D\u5730\u5740\u4E3A\u56FD\u5185\u955C\u50CF\u5373\u53EF \u5FC5\u987B\u4FEE\u6539 daemon.json ,docker pull register\u65B9\u5F0F\u65E0\u6548!!!")]),_,s("p",null,[s("a",D,[n("Docker Compose "),a(e)]),n("\u5B58\u653E\u5728Git Hub\uFF0C\u4E0D\u592A\u7A33\u5B9A\u3002 \u4F60\u53EF\u4EE5\u901A\u8FC7\u6267\u884C\u4E0B\u9762\u7684\u547D\u4EE4\uFF0C\u9AD8\u901F\u5B89\u88C5Docker Compose\u3002")]),S,s("p",null,[s("a",q,[n("Docker for Windows "),a(e)]),n("\u5728Windows\u4E0A\u8FD0\u884CDocker\u3002\u7CFB\u7EDF\u8981\u6C42\uFF0CWindows10x64\u4F4D\uFF0C\u652F\u6301Hyper-V\u3002")]),s("p",null,[s("a",L,[n("Docker for Mac "),a(e)]),n("\u5728Mac\u4E0A\u8FD0\u884CDocker\u3002\u7CFB\u7EDF\u8981\u6C42\uFF0COS X 10.10.3 \u6216\u8005\u66F4\u9AD8\u7248\u672C\uFF0C\u81F3\u5C114G\u5185\u5B58\uFF0C4.3.30\u7248\u672C\u4EE5\u524D\u7684VirtualBox\u4F1A\u4E0EDocker for Mac\u4EA7\u751F\u51B2\u7A81\uFF0C\u6240\u4EE5\u8BF7\u5378\u8F7D\u65E7\u7248\u672C\u7684VitrualBox\u3002")]),s("p",null,[n("\u5982\u679C\u60A8\u7684\u7535\u8111\u7248\u672C\u8FC7\u65E7\uFF0C\u53EF\u4EE5\u4F7F\u7528 "),s("a",j,[n("Docker Toolbox "),a(e)]),n("\u5728Windows\u6216\u8005Mac\u4E0A\u8FD0\u884CDocker\u3002\u9002\u7528\u4E8EMac OS X 10.8+ \u6216\u8005 Windows 7/8.1\u3002")]),s("p",null,[s("a",W,[n("\u4E0B\u8F7D Docker for Windows"),a(e)]),n(),s("a",U,[n("\u4E0B\u8F7D Docker for Mac"),a(e)]),n(),s("a",P,[n("\u4E0B\u8F7D Docker Toolbox"),a(e)])]),A,s("ul",null,[s("li",null,[I,s("p",null,[n("Note that under the latest Preview releases, there appears to be "),s("a",$,[n("an issue"),a(e)]),n(" that causes anything started via this "),F,n(" to terminate when no services that were started via an actual command-line are still running. In other words, if you need Docker (or any other service) to continue to run after you exit your WSL2 session, you'll probably need to use Option 2 (or uninstall the Preview).")])]),N]),E,s("p",null,[s("a",O,[n("https://crapts.org/2022/05/15/install-docker-in-wsl2-with-ubuntu-22-04-lts/"),a(e)])]),C,s("p",null,[n("\u53C2\u8003\u4E86"),s("a",M,[n("https://forum.snapcraft.io/t/running-snaps-on-wsl2-insiders-only-for-now/13033"),a(e)]),n("\u4E4B\u540E\u7ED9\u51FA\u5982\u4E0B\u89E3\u51B3\u65B9\u6848\uFF1A")]),R,s("p",null,[n("\u53C2\u8003\u8D44\u6599\uFF1A "),s("a",T,[n("https://github.com/microsoft/WSL/issues/4166"),a(e)]),s("a",z,[n("https://docs.microsoft.com/en-us/windows/wsl/release-notes#build-18945"),a(e)])]),V,s("p",null,[n("\u5728WSL2\u4E2D\u5B89\u88C5Podman\u7684\u65B9\u6CD5\u53EF\u53C2\u8003\u5982\u4E0B\u94FE\u63A5\uFF1A"),s("a",B,[n("https://www.redhat.com/sysadmin/podman-windows-wsl2"),a(e)])]),Y,s("p",null,[s("a",G,[n("https://podman.io/getting-started/installation"),a(e)])]),H])}const ss=t(l,[["render",K],["__file","Windows\u5B50\u7CFB\u7EDFWSL.html.vue"]]);export{ss as default};
